@using UINProject.Models
@model List<Estudiantes>
@{
    ViewBag.Title = "Index";
}

<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="text-center text-primary"><b>LISTADO DE ESTUDIANTES UIN</b></h1>
            <br />
            <button class="btn btn-default" 
                     onclick="window.location.href='/Estudiante/CrearEditarEstudiante'"> 
                <i class="glyphicon glyphicon-plus-sign"></i>Agregar Estudiantes
            </button>
            <br /><br />
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>Nombre:</th>
                        <th>Carnet:</th>
                        <th>Edad:</th>
                        <th>Telefono:</th>
                        <th>Correo:</th>
                        <th>Direccion:</th>
                        <th>Cohorte:</th>
                        <th>Especialidad:</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Count() > 0)
                    {
                        foreach (var e in Model)
                        {
                            <tr>
                                <td>@e.NombreEstudiante</td>
                                <td>@e.CarnetEstudiante</td>
                                <td>@e.EdadEstudiante</td>
                                <td>@e.TelefonoEstudiante</td>
                                <td>@e.CorreoEstudiante</td>
                                <td>@e.NombreDepartamento</td>
                                <td>@e.NombreCohorte</td>
                                <td>@e.NombreEspecialidad</td>
                                <td>
                                    <button class="btn btn-success" onclick="window.location.href='/Estudiante/CrearEditarEstudiante?IdEstudiante='+@e.IdEstudiante">
                                        <i class="glyphicon glyphicon-pencil"></i>
                                    </button>
                                    <button class="btn btn-danger" onclick="EliminarEstudiante('@e.IdEstudiante','@e.NombreEstudiante')">
                                        <i class="glyphicon glyphicon-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        }
                    }

                    else
                    {
                        <tr>
                            <td colspan="7">
                                <center>
                                <b class="text-danger">¡No hay resultados para mostrar!</b>
                                </center>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    function EliminarEstudiante(id, nombre)
    {
        alertify.confirm("Desea eliminar al estudiante: " + nombre + "?",
            function () {
                window.location.href = "/Estudiante/EliminarEstudiante?IdEstudiante=" + id;
            }
        );
    }
</script>